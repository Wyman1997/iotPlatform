<!DOCTYPE html>
<html lang="en">
<head>
    <title>注册页面</title>
    <%- include head %>
</head>
<body class="login-regist">
    <div class="form-box"></div>
        
        <form action="/users/regist" method="post" onsubmit="return validate()" class="register-form">
            <h1>注册</h1>
            <label for="username" class="label">用户名</label>
            <input type="text" name="username" id="username" placeholder="请输入用户名" value=""/>

            <label for="password" class="label">密码</label>
            <input type="password" name="password" id="password" placeholder="请输入密码" value=""/>

            <label for="password" class="label">确认密码</label>
            <input type="password" name="password2" id="password2" placeholder="确认输入密码" value=""/>

            <input type="submit" class="submit" value="注册" />
            <div class="content">已有账号，<a href="./login">立即登录</a></div>
        </form>  
        
    </div>
  
    <script type="text/javascript">
            function validate(){
                var username = document.getElementById("username").value;
                var password = document.getElementById("password").value;
                var password2 = document.getElementById("password2").value;
                //用户名正则，4到16位（字母，数字，下划线，减号）
                var uPattern = /^[a-zA-Z0-9_-]{4,16}$/;
                /*密码强度正则，最短6位，最长16位 {6,16}
                    可以包含小写大母 [a-z] 和大写字母 [A-Z]
                    可以包含数字 [0-9]
                    可以包含下划线 [ _ ] 和减号 [ - ]*/
                var pPattern = /^[\w_-]{6,16}$/;
                var submitOK="true";
                if(uPattern.test(username) == false){
                    alert("用户名4到16位（字母，数字，下划线，减号）");
                    submitOK = "false";
                }
                if(pPattern.test(password) == false){
                    alert("密码最少6位，最长12位");
                    submitOK = "false";
                }
                if(password != password2){
                    alert("两次输入密码不一致");
                    submitOK = "false";
                }
                if(submitOK == "false"){
                    return false;
                }
            }
    </script>
</body>
</html>